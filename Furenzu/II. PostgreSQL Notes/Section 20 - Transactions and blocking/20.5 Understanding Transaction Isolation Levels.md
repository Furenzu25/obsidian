# ğŸ§  Study Notes: Understanding Transaction Isolation Levels in PostgreSQL

## ğŸ” Whatâ€™s the Goal of This Lesson?

This short lesson introduces **transaction isolation levels** in PostgreSQL â€” a concept often overlooked by developers and DBAs, but crucial for avoiding bugs and inconsistencies in concurrent database operations.

---

## ğŸ§± Why Isolation Levels Matter

- ğŸ§‘â€ğŸ’» When multiple users interact with the database at the same time, strange behavior can happen.
    
- â— Many users expect consistent results (e.g. always seeing a balance of 300), but without isolation, values can change during transactions.
    
- ğŸ§© Isolation helps ensure that data read during a transaction remains stable, even if other transactions modify the data.
    

---

## ğŸ§ª Real-World Example

Imagine two transactions happening simultaneously:

### ğŸ”„ Without Proper Isolation (READ COMMITTED - default)

- Transaction 1 starts and reads a balance of **300**.
    
- Transaction 2 starts, **inserts +100**, and commits.
    
- Transaction 1 runs another `SELECT` and now sees **400**.
    
    - âŒ This creates inconsistent reads during the same transaction.
        

### âœ… With Proper Isolation (`REPEATABLE READ`)
	
	sql
	
`BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;`

- Transaction 1 sees **300**, and that value is **frozen** (snapshot).
    
- Even after Transaction 2 inserts +100 and commits, Transaction 1 still sees **300**.
    
- This ensures consistency across all reads in Transaction 1.
    

---

## ğŸ“Š Why This Matters

- âœ… Great for **reporting**, where you want all pages to use the same snapshot.
    
- ğŸ§¾ Ensures **consistent reads** even with repeated queries inside a transaction.
    

---

## ğŸš¨ Watch Out: Isolation Isn't Perfect

- Some isolation anomalies are hard to detect, especially **after deployment**.
    
- PostgreSQL offers different isolation levels, but not all are supported by other databases.
    

---

## ğŸ” PostgreSQL's Supported Isolation Levels

1. **Read Committed** (default) â€” sees new committed data with each query.
    
2. **Repeatable Read** â€” snapshot is frozen for the whole transaction.
    
3. **Serializable Snapshot Isolation (SSI)** â€” strongest level:
    
    - ğŸ‘¥ Works like there's only one user.
        
    - âš ï¸ May cause failures or rollbacks if there are conflicts.
        
    - ğŸ“‰ Slight performance penalty.
        
    - ğŸš« Not widely supported outside PostgreSQL.
        

---

## ğŸ“ Final Thoughts

- ğŸ§  Use **REPEATABLE READ** or **SERIALIZABLE** when **data consistency** is critical.
    
- ğŸ” Understand whatâ€™s happening inside your database before choosing higher isolation levels.
    
- ğŸ“š Further reading is available in the [PostgreSQL documentation](https://wiki.postgresql.org/wiki/Serializable).
    

---

## ğŸ¤ Thatâ€™s a Wrap!

- Isolation levels are key to consistent, reliable apps.
    
- ğŸ“ˆ Use wisely, and only when needed.
    
- ğŸ‘‹ _Hugs to everyone!_