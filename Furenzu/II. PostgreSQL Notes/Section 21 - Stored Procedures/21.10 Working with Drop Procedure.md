# ğŸ“˜ Study Notes: Removing a PROCEDURE in PostgreSQL

ğŸ‘‹ **Hello students!**

In this lesson, we dive into a much-requested topic: **how to remove a `PROCEDURE` in PostgreSQL**. While we previously learned how to create and call procedures, it's equally important to understand how to **delete (DROP)** them properly â€” and safely.

---

## ğŸ§  Key Concepts:

### ğŸ—ï¸ Creating a PROCEDURE (Review)

Before deletion, you must understand what youâ€™re removing. Let's say we create a simple procedure:
	
	sql
	
`CREATE OR REPLACE PROCEDURE insert_actor() LANGUAGE plpgsql AS $$ BEGIN   INSERT INTO actor (name) VALUES ('John Doe'); END; $$;`

We can also create other procedures for **UPDATE** and **DELETE** actions â€” these procedures might depend on each other, creating a kind of _relationship_ between them.

---

## ğŸ—‘ï¸ Removing (DROP) a PROCEDURE

### ğŸ“Œ Syntax Overview:
	
	sql
	
`DROP PROCEDURE IF EXISTS procedure_name (argument_list) [CASCADE | RESTRICT];`

- `IF EXISTS`: avoids error if the procedure doesnâ€™t exist.
    
- `(argument_list)`: **important** â€” must match the parameter types.
    
- `CASCADE`: removes dependent objects.
    
- `RESTRICT`: prevents deletion if there are dependencies (default behavior).
    

---

## âš ï¸ Important: Argument Matching

When dropping a procedure, PostgreSQL **requires** the full argument list. For example:
	
	sql
	
`DROP PROCEDURE insert_actor(VARCHAR);`

If you donâ€™t specify arguments, or specify them incorrectly, youâ€™ll get an error â€” especially if the procedure has dependencies or overloaded versions.

---

## ğŸ”„ Example Flow:

1. âœ… Create `insert_actor()` procedure.
    
2. âœ… Create dependent procedures like `delete_actor(id)` and `update_actor(id, name)`.
    
3. âŒ Try `DROP PROCEDURE insert_actor();` â†’ âš ï¸ Error!
    
4. âœ… Use `DROP PROCEDURE insert_actor(VARCHAR);` â†’ âœ”ï¸ Successful!
    
5. âœ… Now you can safely drop `delete_actor()` and `update_actor()`.
    

Because those functions are no longer dependent (or "tributaries"), they can be removed without conflict.

---

## ğŸ¯ Final Notes:

- Always **specify the correct parameter types** when dropping a procedure.
    
- Be mindful of **dependencies** â€” if other procedures rely on the one youâ€™re dropping, either drop them first or use `CASCADE` carefully.
    
- This topic wasnâ€™t covered in detail in the last class, but due to high demand, itâ€™s now addressed.
    

---

## âœ… Summary:

- Use `DROP PROCEDURE` with full argument signature.
    
- Understand dependencies between procedures.
    
- PostgreSQL requires strict type matching when dropping procedures.