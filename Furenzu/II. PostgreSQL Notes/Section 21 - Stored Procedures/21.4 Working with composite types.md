# ğŸ§  Study Notes: Composite Types in PostgreSQL

## ğŸ§© What Are Composite Types?

In PostgreSQL, unlike simpler databases that only support **primitive types** (like `INTEGER`, `NUMERIC`, `VARCHAR`), you can define and use **composite types**â€”custom data structures that group multiple fields together into a single, reusable type.

Think of it as creating your own mini "record" or "object" inside the database.

---

## ğŸš€ Why Are Composite Types Useful?

âœ… **Flexibility**: Youâ€™re not restricted to basic data typesâ€”you can **combine multiple fields** into one.

âœ… **Advanced Structure**: Allows you to design **cleaner, more structured data**â€”like working with JSON or structs.

âœ… **Better Readability**: Especially helpful when writing **functions** or working with **complex queries**.

---

## ğŸ› ï¸ How To Use Composite Types in PostgreSQL

### 1. ğŸ—ï¸ Create a Custom Type

You can define a custom type using `CREATE TYPE`:
	
	sql
	
`CREATE TYPE full_name AS (   first_name VARCHAR,   last_name  VARCHAR );`

This creates a **composite structure** with two fields: `first_name` and `last_name`.

---

### 2. ğŸ“¦ Use the Type in a Function

You can now create a function that **returns** this type:
	
	sql
	
`CREATE OR REPLACE FUNCTION get_name() RETURNS full_name AS $$ DECLARE   result full_name; BEGIN   result.first_name := 'John';   result.last_name := 'Doe';   RETURN result; END; $$ LANGUAGE plpgsql;`

ğŸ¯ When you call this function, it returns the full name as a structured resultâ€”like a mini object.

---

### 3. ğŸ§ª Accessing Composite Values

When dealing with a composite return, you can access fields like:
	
	sql
	
`SELECT (get_name()).first_name;`

ğŸ“Œ Just like accessing properties of an object in programming!

---

### 4. ğŸŒˆ Combine With Other Data Structures

You can even:

- Use composite types **inside arrays**
    
- Use them in `SELECT` queries
    
- Return them from more **complex joins or nested functions**
    

Example:
	
	sql
	
`SELECT ROW('Apple', 100)::product_type;`

This casts a row to your custom type.

---

## ğŸ“š Important Tips

- PostgreSQL has **no restriction** on using primitive, composite, or even custom-defined data types together.
    
- If needed, you can extend PostgreSQL with **additional extensions** to work with even more advanced data types.
    
- ğŸ“– Always refer to the **official documentation** for deeper use cases and best practices.
    

---

## ğŸ§  Final Thoughts

Composite types are a **powerful feature in PostgreSQL** that allow you to create more organized and dynamic schemas. They:

- âœ¨ Help modularize your data
    
- âœ¨ Improve query clarity
    
- âœ¨ Work seamlessly with functions and complex logic
    

ğŸ”§ If you're designing a flexible and scalable database, **composite types are your friend**.

---

ğŸ‘‹ Thatâ€™s it for today!  
Got questions? Check the course forum.  
ğŸ’» Keep experimenting andâ€¦ hugs to everyone! ğŸ˜Š